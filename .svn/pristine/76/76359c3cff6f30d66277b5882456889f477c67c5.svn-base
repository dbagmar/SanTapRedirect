//
//  EmojiKeyboard.swift
//

/**
 
 This demo keyboard has 24 buttons per page, which fits this
 demo app's two different grid sizes for portrait/landscape.
 It features one page of real emoji characters and four with
 image buttons, which are handled by the demo action handler.
 
 If you make any changes to this keyboard (which you should,
 play with it) the keyboard may get an uneven set of buttons,
 which the grid engine handles by adding empty dummy buttons
 at the very end.
 
 */
struct EmojiKeyboard: DemoKeyboard {
    
    init(in viewController: KeyboardParentViewController) {
        
        
        
        
        self.bottomActions = EmojiKeyboard.bottomActions(
            leftmost: EmojiKeyboard.switchAction,
            
            for: viewController)
    }
    
    
    
    let actions: [KeyboardAction] = [
        .character("â˜º"),
        .character("ðŸ˜‹"),
        .character("ðŸ˜Œ"),
        .character("ðŸ˜"),
        .character("ðŸ˜˜"),
        .character("ðŸ˜—"),
        .character("ðŸ˜™"),
        .character("ðŸ˜š"),
        .character("ðŸ˜œ"),
        .character("ðŸ˜"),
        .character("ðŸ˜›"),
        .character("ðŸ¤‘"),
        .character("ðŸ¤“"),
        .character("ðŸ˜Ž"),
        .character("ðŸ¤—"),
        .character("ðŸ˜"),
        .character("ðŸ˜¶"),
        .character("ðŸ˜"),
        .character("ðŸ˜‘"),
        .character("ðŸ˜’"),
        .character("ðŸ™„"),
        .character("ðŸ¤”"),
        .character("ðŸ˜³"),
        .character("ðŸ˜ž"),
        .character("ðŸ˜Ÿ"),
        .character("ðŸ˜ "),
        .character("ðŸ˜¡"),
        .character("ðŸ˜”"),
        .character("ðŸ˜•"),
        .character("ðŸ™"),
        .character("ðŸ˜£"),
        .character("ðŸ˜–"),
        .character("ðŸ˜«"),
        .character("ðŸ˜©"),
        .character("ðŸ˜¤"),
        .character("ðŸ˜®"),
        .character("ðŸ˜±"),
        .character("ðŸ˜¨"),
        .character("ðŸ˜°"),
        .character("ðŸ˜¯"),
        .character("ðŸ˜¦"),
        .character("ðŸ˜§"),
        .character("ðŸ˜¢"),
        .character("ðŸ˜¥"),
        .character("ðŸ˜ª"),
        .character("ðŸ˜“"),
        .character("ðŸ˜­"),
        .character("ðŸ˜µ"),
        .character("ðŸ˜²"),
        .character("ðŸ¤"),
        .character("ðŸ˜·"),
        .character("ðŸ¤’"),
        .character("ðŸ¤•"),
        .character("ðŸ˜´"),
        .character("ðŸ’¤"),
        .character("ðŸ’©"),
        .character("ðŸ˜ˆ"),
        .character("ðŸ‘¿"),
        .character("ðŸ‘¹"),
        .character("ðŸ‘º"),
        .character("ðŸ‘»"),
        .character("ðŸ’€"),
        .character("â˜ "),
        .character("ðŸ‘½"),
        .character("ðŸ‘¾"),
        .character("ðŸ¤–"),
        .character("ðŸ˜º"),
        .character("ðŸ˜¸"),
        .character("ðŸ˜¹"),
        .character("ðŸ˜»"),
        .character("ðŸ˜¼"),
        .character("ðŸ˜½"),
        .character("ðŸ™€"),
        .character("ðŸ˜¿"),
        .character("ðŸ˜¾"),
        .character("ðŸ™Œ"),
        .character("ðŸ‘"),
        .character("ðŸ‘"),
        .character("ðŸ‘Ž"),
        .character("ðŸ‘Š"),
        .character("âœŠ"),
        .character("ðŸ‘‹"),
        .character("ðŸ‘ˆ"),
        .character("ðŸ‘‰"),
        .character("ðŸ‘†"),
        .character("ðŸ‘‡"),
        .character("ðŸ‘Œ"),
        .character("â˜"),
        .character("âœŒ"),
        .character("âœ‹"),
        .character("ðŸ–"),
        .character("ðŸ‘"),
        .character("ðŸ’ª"),
        .character("ðŸ™"),
        .character("ðŸ––"),
        .character("ðŸ¤˜"),
        .character("ðŸ–•"),
        .character("âœ"),
        .character("ðŸ’…"),
        .character("ðŸ‘„"),
        .character("ðŸ‘…"),
        .character("ðŸ‘‚"),
        .character("ðŸ‘ƒ"),
        .character("ðŸ‘"),
        .character("ðŸ‘€"),
        .character("ðŸ—£"),
        .character("ðŸ‘¤"),
        .character("ðŸ‘¥"),
        .character("ðŸ‘¶"),
        .character("ðŸ‘¦"),
        .character("ðŸ‘§"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘©"),
        .character("ðŸ‘±"),
        .character("ðŸ‘´"),
        .character("ðŸ‘µ"),
        .character("ðŸ‘²"),
        .character("ðŸ‘³"),
        .character("ðŸ‘®"),
        .character("ðŸ‘·"),
        .character("ðŸ’‚"),
        .character("ðŸŽ…"),
        .character("ðŸ‘¸"),
        .character("ðŸ‘°"),
        .character("ðŸ‘¼"),
        .character("ðŸ™‡"),
        .character("ðŸ’"),
        .character("ðŸ™…"),
        .character("ðŸ™†"),
        .character("ðŸ™‹"),
        .character("ðŸ™Ž"),
        .character("ðŸ™"),
        .character("ðŸ’‡"),
        .character("ðŸ’†"),
        .character("ðŸ’ƒ"),
        .character("ðŸ‘¯"),
        .character("ðŸš¶"),
        .character("ðŸƒ"),
        .character("ðŸ‘«"),
        .character("ðŸ‘­"),
        .character("ðŸ‘¬"),
        .character("ðŸ’‘"),
        .character("ðŸ‘©"),
        .character("ðŸ‘¨"),
        .character("ðŸ’"),
        .character("ðŸ‘©"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘ª"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘©"),
        .character("ðŸ‘©"),
        .character("ðŸ‘©"),
        .character("ðŸ‘©"),
        .character("ðŸ‘©"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘¨"),
        .character("ðŸ‘š"),
        .character("ðŸ‘•"),
        .character("ðŸ‘–"),
        .character("ðŸ‘”"),
        .character("ðŸ‘—"),
        .character("ðŸ‘™"),
        .character("ðŸ‘˜"),
        .character("ðŸ’„"),
        .character("ðŸ’‹"),
        .character("ðŸ‘£"),
        .character("ðŸ‘ "),
        .character("ðŸ‘¡"),
        .character("ðŸ‘¢"),
        .character("ðŸ‘ž"),
        .character("ðŸ‘Ÿ"),
        .character("ðŸ‘’"),
        .character("ðŸŽ©"),
        .character("ðŸŽ“"),
        .character("ðŸ‘‘"),
        .character("â›‘"),
        .character("ðŸŽ’"),
        .character("ðŸ‘"),
        .character("ðŸ‘›"),
        .character("ðŸ‘œ"),
        .character("ðŸ’¼"),
        .character("ðŸ‘“"),
        .character("ðŸ•¶"),
        .character("ðŸ’"),
        .character("ðŸŒ‚"),
        .character("ðŸ¶"),
        .character("ðŸ±"),
        .character("ðŸ­"),
        .character("ðŸ¹"),
        .character("ðŸ°"),
        .character("ðŸ»"),
        .character("ðŸ¼"),
        .character("ðŸ¨"),
        .character("ðŸ¯"),
        .character("ðŸ¦"),
        .character("ðŸ®"),
        .character("ðŸ·"),
        .character("ðŸ½"),
        .character("ðŸ¸"),
        .character("ðŸ™"),
        .character("ðŸµ"),
        .character("ðŸ™ˆ"),
        .character("ðŸ™‰"),
        .character("ðŸ™Š"),
        .character("ðŸ’"),
        .character("ðŸ”"),
        .character("ðŸ§"),
        .character("ðŸ¦"),
        .character("ðŸ¤"),
        .character("ðŸ£"),
        .character("ðŸ¥"),
        .character("ðŸº"),
        .character("ðŸ—"),
        .character("ðŸ´"),
        .character("ðŸ¦„"),
        .character("ðŸ"),
        .character("ðŸ›"),
        .character("ðŸŒ"),
        .character("ðŸž"),
        .character("ðŸœ"),
        .character("ðŸ•·"),
        .character("ðŸ¦‚"),
        .character("ðŸ¦€"),
        .character("ðŸ"),
        .character("ðŸ¢"),
        .character("ðŸ "),
        .character("ðŸŸ"),
        .character("ðŸ¡"),
        .character("ðŸ¬"),
        .character("ðŸ³"),
        .character("ðŸ‹"),
        .character("ðŸŠ"),
        .character("ðŸ†"),
        .character("ðŸ…"),
        .character("ðŸƒ"),
        .character("ðŸ‚"),
        .character("ðŸ„"),
        .character("ðŸª"),
        .character("ðŸ«"),
        .character("ðŸ˜"),
        .character("ðŸ"),
        .character("ðŸ"),
        .character("ðŸ‘"),
        .character("ðŸŽ"),
        .character("ðŸ–"),
        .character("ðŸ€"),
        .character("ðŸ"),
        .character("ðŸ“"),
        .character("ðŸ¦ƒ"),
        .character("ðŸ•Š"),
        .character("ðŸ•"),
        .character("ðŸ©"),
        .character("ðŸˆ"),
        .character("ðŸ‡"),
        .character("ðŸ¿"),
        .character("ðŸ¾"),
        .character("ðŸ‰"),
        .character("ðŸ²"),
        .character("ðŸŒµ"),
        .character("ðŸŽ„"),
        .character("ðŸŒ²"),
        .character("ðŸŒ³"),
        .character("ðŸŒ´"),
        .character("ðŸŒ±"),
        .character("ðŸŒ¿"),
        .character("â˜˜"),
        .character("ðŸ€"),
        .character("ðŸŽ"),
        .character("ðŸŽ‹"),
        .character("ðŸƒ"),
        .character("ðŸ‚"),
        .character("ðŸ"),
        .character("ðŸŒ¾"),
        .character("ðŸŒº"),
        .character("ðŸŒ»"),
        .character("ðŸŒ¹"),
        .character("ðŸŒ·"),
        .character("ðŸŒ¼"),
        .character("ðŸŒ¸"),
        .character("ðŸ’"),
        .character("ðŸ„"),
        .character("ðŸŒ°"),
        .character("ðŸŽƒ"),
        .character("ðŸš"),
        .character("ðŸ•¸"),
        .character("ðŸŒŽ"),
        .character("ðŸŒ"),
        .character("ðŸŒ"),
        .character("ðŸŒ•"),
        .character("ðŸŒ–"),
        .character("ðŸŒ—"),
        .character("ðŸŒ˜"),
        .character("ðŸŒ‘"),
        .character("ðŸŒ’"),
        .character("ðŸŒ“"),
        .character("ðŸŒ”"),
        .character("ðŸŒš"),
        .character("ðŸŒ"),
        .character("ðŸŒ›"),
        .character("ðŸŒœ"),
        .character("ðŸŒž"),
        .character("ðŸŒ™"),
        .character("â­"),
        .character("ðŸŒŸ"),
        .character("ðŸ’«"),
        .character("âœ¨"),
        .character("â˜„"),
        .character("â˜€"),
        .character("ðŸŒ¤"),
        .character("â›…"),
        .character("ðŸŒ¥"),
        .character("ðŸŒ¦"),
        .character("â˜"),
        .character("ðŸŒ§"),
        .character("â›ˆ"),
        .character("ðŸŒ©"),
        .character("âš¡"),
        .character("ðŸ”¥"),
        .character("ðŸ’¥"),
        .character("â„"),
        .character("ðŸŒ¨"),
        .character("â˜ƒ"),
        .character("â›„"),
        .character("ðŸŒ¬"),
        .character("ðŸ’¨"),
        .character("ðŸŒª"),
        .character("ðŸŒ«"),
        .character("â˜‚"),
        .character("â˜”"),
        .character("ðŸ’§"),
        .character("ðŸ’¦"),
        .character("ðŸŒŠ"),
        .character("ðŸ"),
        .character("ðŸŽ"),
        .character("ðŸ"),
        .character("ðŸŠ"),
        .character("ðŸ‹"),
        .character("ðŸŒ"),
        .character("ðŸ‰"),
        .character("ðŸ‡"),
        .character("ðŸ“")
    ]
    
    let bottomActions: KeyboardActionRow
}

private extension EmojiKeyboard {
    
    /*static var switchAction: KeyboardAction {
        .switchToKeyboard(.alphabetic(uppercased: false))
    }*/
    
    static func actions(
        uppercased: Bool,
        in viewController: KeyboardParentViewController) -> KeyboardActionRows {
        KeyboardActionRows
            .from(characters(uppercased: uppercased))
            .addingSideActions(uppercased: uppercased)
            .appending(bottomActions(leftmost: switchAction, for: viewController))
    }
    
    static let characters: [[String]] = [
        ["q", "w", "e", "r", "t", "y", "u", "i", "o", "p"],
        ["a", "s", "d", "f", "g", "h", "j", "k", "l", "Ã±"],
        ["z", "x", "c", "v", "b", "n", "m"]
    ]
    
    static func characters(uppercased: Bool) -> [[String]] {
        uppercased ? characters.uppercased() : characters
    }
    
    static var switchAction: KeyboardAction {
        .switchToKeyboard(.numeric)
    }
}


private extension Sequence where Iterator.Element == KeyboardActionRow {
    
    func addingSideActions(uppercased: Bool) -> [Iterator.Element] {
        var result = map { $0 }
        result[2].insert(uppercased ? .shiftDown : .shift, at: 0)
        result[2].insert(.none, at: 1)
        result[2].append(.none)
        result[2].append(.backspace)
        return result
    }
}
